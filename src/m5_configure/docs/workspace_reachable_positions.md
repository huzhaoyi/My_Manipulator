# M5机械臂工作空间和可达位置参考表

## 机械臂结构参数

### 关键尺寸（从URDF提取）
- **基座高度**: 0.141m (base_link到Joint1)
- **Link2长度**: 0.264m (Joint2到Joint3)
- **Link3长度**: 0.143m (Joint3到Joint4，主要Z方向)
- **Link4长度**: 0.187m (Joint4到末端LinkGG)
- **总有效长度**: 约0.594m

### 关节限制
- **Joint1**: -3.14 到 3.14 弧度（±180°）- 基座旋转
- **Joint2**: -1.57 到 0 弧度（-90° 到 0°）- 肩部俯仰
- **Joint3**: -1.57 到 0 弧度（-90° 到 0°）- 肘部俯仰
- **Joint4**: -3.14 到 3.14 弧度（±180°）- 腕部旋转

## 工作空间分析

### 理论工作空间范围
- **最小半径**: 约0.10m（接近基座）
- **最大半径**: 约0.60m（完全伸展）
- **最小高度**: 约0.14m（基座高度）
- **最大高度**: 约0.74m（基座高度 + 完全伸展）

### 实际可达区域
由于Joint2和Joint3的限制（只能向下弯曲），工作空间主要在前方和下方区域。

## 可达位置参考表

### 推荐测试位置（已验证或高成功率）

| 位置名称 | X (m) | Y (m) | Z (m) | 说明 | 成功率 |
|---------|-------|-------|-------|------|--------|
| **中心前方** | 0.30 | 0.00 | 0.30 | 推荐起始位置 | 高 |
| **中心前方（高）** | 0.25 | 0.00 | 0.35 | 较高位置 | 高 |
| **中心前方（低）** | 0.35 | 0.00 | 0.25 | 较低位置 | 高 |
| **右侧** | 0.30 | 0.15 | 0.30 | 右侧位置 | 中-高 |
| **左侧** | 0.30 | -0.15 | 0.30 | 左侧位置 | 中-高 |
| **前方远** | 0.40 | 0.00 | 0.30 | 较远位置 | 中 |
| **前方近** | 0.20 | 0.00 | 0.30 | 较近位置 | 高 |
| **右上** | 0.25 | 0.10 | 0.35 | 右上区域 | 中 |
| **左上** | 0.25 | -0.10 | 0.35 | 左上区域 | 中 |

### 工作空间边界测试位置

| 位置名称 | X (m) | Y (m) | Z (m) | 说明 | 成功率 |
|---------|-------|-------|-------|------|--------|
| **最远点** | 0.50 | 0.00 | 0.20 | 最大伸展 | 低-中 |
| **最高点** | 0.20 | 0.00 | 0.50 | 最高位置 | 低-中 |
| **最右点** | 0.30 | 0.25 | 0.30 | 最右侧 | 低 |
| **最左点** | 0.30 | -0.25 | 0.30 | 最左侧 | 低 |
| **最近点** | 0.15 | 0.00 | 0.25 | 最近位置 | 中 |

### 安全工作区域（推荐使用）

**高成功率区域**（推荐用于日常操作）：
- **X范围**: 0.20 ~ 0.35 m
- **Y范围**: -0.15 ~ 0.15 m
- **Z范围**: 0.25 ~ 0.35 m

**中等成功率区域**（谨慎使用）：
- **X范围**: 0.15 ~ 0.45 m
- **Y范围**: -0.20 ~ 0.20 m
- **Z范围**: 0.20 ~ 0.40 m

## 使用建议

1. **优先使用高成功率区域**的位置进行规划
2. **保持orientation为当前值**（程序会自动处理）以提高IK成功率
3. **避免边界位置**，除非必要
4. **测试顺序**：先测试中心位置，再逐步扩展到边界

## Python脚本使用示例

```bash
# 使用默认位置（0.30, 0.0, 0.30）
python3 src/m5_configure/scripts/publish_target_pose.py

# 指定坐标
python3 src/m5_configure/scripts/publish_target_pose.py 0.30 0.0 0.30

# 测试其他位置
python3 src/m5_configure/scripts/publish_target_pose.py 0.25 0.0 0.35  # 较高位置
python3 src/m5_configure/scripts/publish_target_pose.py 0.35 0.0 0.25  # 较低位置
python3 src/m5_configure/scripts/publish_target_pose.py 0.30 0.15 0.30  # 右侧
```

## 注意事项

- 所有坐标相对于 `base_link` 坐标系
- Z轴向上，X轴向前，Y轴向左（右手坐标系）
- 实际可达性还受碰撞检测和运动学求解器影响
- 建议在实际使用中逐步测试和验证
